/*!
Premium Pack iPad Skin Version 2.0 script functions
For Help & Manual 6 only 
Copyright (c) 2008-2011 by Tim Green. 
All rights reserved.
*/
var hmTouch={myScroll:{},navOfs:parent.window.hmMobile.navOfs,scrW:parent.window.hmMobile.scrW,scrH:parent.window.hmMobile.scrH,hiPos:0,hiMax:0,ctDoc:parent.document.getElementById("hmcontent").contentWindow,highlighter:function(b){hmTouch.hiMax=$("#pageContent").height()-10;if($("a#newHiTable").length=0){return null}$("a#newHiTable").attr("id","");var a=$("span[class^=hilight]").parent("a");$(a).attr("id","newHiTable");if($(a).position()){hmTouch.hiPos=$(a).position().top}},tocLinker:function(){$("li[class^='heading'] a[target='hmcontent'][href^='http']").attr("target","_blank");$("li[class^='heading'] a[href*='#']").each(function(){var b=$(this).attr("href");var a=b.indexOf("#");$(this).attr("data",b.substr(a));b=b.substr(0,a);$(this).attr({href:b,target:""});$(this).click(function(c){c.preventDefault();c.stopPropagation();if(b!=parent.window.hmMobile.currentPage){if(parent.hmMobile.isIOS5){hmTouch.ctDoc.location.replace(b)}else{hmTouch.ctDoc.location.replace(b)}parent.window.hmMobile.anchorTarget=$(this).attr("data")}})});$("li[class^='heading'] a[target='hmcontent']").click(function(a){if($(this).attr("href")==parent.window.hmMobile.currentPage){a.preventDefault()}})},wHorizontal:function(){return(Math.abs(parent.window.orientation)-90===0)?true:false},resizeWin:function(a){var b=hmTouch.wHorizontal()?hmTouch.scrW-(hmTouch.navOfs+5):hmTouch.scrH-(hmTouch.navOfs+5);var c=$("#hmnavbox",parent.document).width();$("ul#toc").css("width",c+"px");$("div#pageContent").css("height",(b+10)+"px");if(a){setTimeout(function(){hmTouch.myScroll.refresh()},300)}},init:function(){$("body").css("visibility","hidden");$(document).bind("touchmove",function(a){a.preventDefault()});$("a[class^='heading']").not("[target]").attr("class","headingNoText");hmTouch.tocLinker();hmTouch.resizeWin(false);setTimeout(function(){hmTouch.myScroll=new iScroll("pageContent",{zoom:false,fadeScrollbar:true,bounce:true,hScrollbar:false,hScroll:false});setTimeout(function(){$("body").hide().css("visibility","visible").fadeIn()},100)},100)}};$(document).ready(function(){hmTouch.init()});