/*!
Premium Pack iPad Skin Version 2.0 script functions
For Help & Manual 6 only 
Copyright (c) 2008-2011 by Tim Green. 
All rights reserved.
*/
var hmMobile={navDoc:{},idxDoc:{},schDoc:{},ctDoc:{},reDirect:"",loaded:false,navLoaded:true,isZoom:false,doNavUpdate:false,idxLoaded:false,idxPage:"",schLoaded:false,schVisible:false,schHeight:0,indexPage:"index.html",currentPage:"",previousPage:"",nextPage:"",currentNav:"iframe#hmnavigation",widest:0,anchorTarget:"",isIpad:navigator.platform.indexOf("iPad")>-1,isSafari:navigator.userAgent.indexOf("Safari")>-1,isIOS5:(function(){var b=/Mozilla.*?\(iPad.*?CPU OS ([_\d]+?) like Mac OS X.*?\).*?Safari\/([\d.]+)/;var a=b.exec(navigator.userAgent);var d=null;var c=null;if(a!=null){d=parseInt(a[1].replace("_","").substr(0,2),10);c=a[2];if(d>=50){return true}else{return false}}else{return false}})(),scrW:screen.width<screen.height?screen.width:screen.height,scrH:screen.height>screen.width?screen.height:screen.width,navOfs:0,searchSize:function(){var b=$("div#hmcontainer").width();var c=Math.round(b/2);var a=$("div#hmcontainer").height();$("div#hmsearchbox").css({width:b+"px",height:a+"px"});$("iframe#hmsearch").css({width:c+"px",height:(a-30)+"px"});if(hmMobile.schLoaded&&hmMobile.schDoc.hmTouch){hmMobile.schDoc.hmTouch.resizeWin(true,true)}},oBind:function(a){if(!a){$(document).bind("touchmove",function(b){b.preventDefault()})}$(document).bind("orientationchange",function(){setTimeout(function(){var b=(hmMobile.currentNav==="iframe#hmnavigation");hmMobile.ctDoc.hmTouch.init();if(b){hmMobile.navDoc.hmTouch.resizeWin(true)}if(hmMobile.idxLoaded&&!b){hmMobile.idxDoc.hmTouch.resizeWin(true)}hmMobile.searchSize()},300)})},oUnbind:function(a){if(!a){$(document).unbind("touchmove")}$(document).unbind("orientationchange")},setStyleSheet:function(a){$("link[title='zoom view']").attr("disabled",!a);$("link[title='standard view']").attr("disabled",a);if(a){$("#hmzoom").css("margin-right","10px");$("#unzoomer a").css("margin-right","0px");$("#unzoomer").css({width:($("#unzoomer a").outerWidth())+"px",padding:"0px",margin:"0px"})}},wHorizontal:function(){return(Math.abs(window.orientation)-90===0)?true:false},zoomHeader:function(a){if(a){hmMobile.isZoom=true;var c=document.createElement("meta");$(c).attr({name:"viewport",content:"width=device-width, user-scalable=1, maximum-scale=3.0, minimum-scale=0.2"});$("meta[name='viewport']").remove();$("head").append(c);var b=hmMobile.wHorizontal()?hmMobile.scrH:hmMobile.scrW;if(hmMobile.widest>b){$("body").children().wrapAll('<div id="exPage" />');$("#exPage").css("width",(hmMobile.widest+10)+"px")}}else{hmMobile.isZoom=false;var c=document.createElement("meta");$(c).attr({name:"viewport",content:"width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"});$("meta[name='viewport']").remove();$("head").append(c);if($("#exPage")){$("#exPage").children().unwrap()}}},zoomWindow:function(a){if(a==="return"){$("#hmzoom").fadeOut("fast",function(){hmMobile.zoomHeader(false);hmMobile.setStyleSheet(false);document.location.replace(hmMobile.indexPage+"?"+hmMobile.currentPage);return false})}else{hmMobile.oUnbind(false);hmMobile.zoomHeader(true);$("#hmcontainer").fadeOut("fast",function(){$("#hmzoom").load(a,function(){$("#hmheader").hide();$("#unzoomer").show();$(this).fadeIn("fast",function(){hmMobile.setStyleSheet(true)})})})}},switchNav:function(c,a,b){if(c===hmMobile.currentNav){return}$("#hmHelpNav a.active").removeClass("active");if(b){$(b).addClass("highlight");setTimeout(function(){$(b).removeClass("highlight")},600)}$("#hmnavbox").animate({left:"-240"},300,"swing",function(){$(hmMobile.currentNav).css("visibility","hidden");$(c).css("visibility","visible");$(this).css("left","240px");if(c==="iframe#hmindex"&&!hmMobile.idxLoaded){hmMobile.idxPage=a;if(!hmMobile.idxDoc.hmTouch){hmMobile.idxDoc=document.getElementById("hmindex").contentWindow}hmMobile.idxDoc.location.replace(a)}$("#hmnavbox").animate({left:"0"},300,"swing",function(){if(b){$(b).removeClass("highlight");$(b).addClass("active")}hmMobile.currentNav=c;if(c==="iframe#hmnavigation"){var d=setInterval(function(){if(hmMobile.navDoc.hmTouch){hmMobile.navDoc.hmTouch.resizeWin(true);d=clearInterval(d)}},300)}else{var e=setInterval(function(){if(hmMobile.idxDoc.hmTouch){hmMobile.idxDoc.hmTouch.resizeWin(true);e=clearInterval(e)}},300)}})})},doSearch:function(a,b){if(!hmMobile.schVisible){$("#hmHelpNav a.active").removeClass("active");$(b).addClass("highlight");setTimeout(function(){$(b).removeClass("highlight")},600);if(!hmMobile.schLoaded){hmMobile.schDoc=document.getElementById("hmsearch").contentWindow;hmMobile.schDoc.location.replace(a);hmMobile.schLoaded=true}$("div#hmsearchbox").show();hmMobile.schVisible=true;$(b).addClass("active")}else{hmMobile.ctDoc.hmTouch.init();hmMobile.switchNav("iframe#hmnavigation","",$("a#ctLink"));$("div#hmsearchbox").hide();hmMobile.schVisible=false;$("#hmHelpNav a.active").removeClass("active");$(b).addClass("highlight");setTimeout(function(){$(b).removeClass("highlight");$("a#ctLink").addClass("active")},600)}},navLoadPage:function(a){if(hmMobile.currentPage!=a){if(hmMobile.isIOS5){hmMobile.ctDoc.location.assign(a)}else{hmMobile.ctDoc.location.replace(a)}}},buttonFlash:function(a){$(a).addClass("highlight");setTimeout(function(){$(a).removeClass("highlight")},600)},init:function(){var b=$("#hmcontainer").outerHeight(true)-4;hmMobile.navOfs=hmMobile.wHorizontal()?hmMobile.scrW-b:hmMobile.scrH-b;var d="";var e=location.href;if(e.lastIndexOf("?")>0){d=e.substring(e.lastIndexOf("?")+1,e.length).replace(/:/g,"");var c=d.indexOf("#");if(c>0){hmMobile.anchorTarget=d.substr(c);d=d.substr(0,c)}if(hmMobile.isIOS5){document.getElementById("hmcontent").contentWindow.location.assign(d)}else{document.getElementById("hmcontent").contentWindow.location.replace(d)}hmMobile.doNavUpdate=true}hmMobile.navDoc=document.getElementById("hmnavigation").contentWindow;hmMobile.ctDoc=document.getElementById("hmcontent").contentWindow;hmMobile.oBind(hmMobile.loaded);$("iframe[name=hmnavigation]").bind("load",function(){hmMobile.navDoc.hmTouch.highlighter(null)});function a(){var f=setInterval(function(){if(hmMobile.navDoc.hmTouch&&hmMobile.navDoc.hmTouch.myScroll.vScroll){clearInterval(f);hmMobile.navDoc.hmTouch.highlighter(null);hmMobile.navDoc.hmTouch.myScroll.refresh()}},100)}$("iframe[name=hmcontent]").bind("load",function(){a()});if(hmMobile.doNavUpdate){a()}hmMobile.searchSize()}};if(!hmMobile.isIpad||(hmMobile.isIpad&&!hmMobile.isSafari)){$("*").hide();if(!hmMobile.isSafari&&hmMobile.isIpad){alert(window.noSafari);window.history.back(1)}else{if(window.reDirect!=""){document.location.replace(window.reDirect)}else{alert(window.noPad);window.history.back(1)}}}else{$(document).ready(function(){hmMobile.init();hmMobile.loaded=true})};